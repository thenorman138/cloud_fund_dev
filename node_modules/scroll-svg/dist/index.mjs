function h(e){let t;return e.draw_origin==="top"?t=.25:e.draw_origin==="center"?t=.5:e.draw_origin==="bottom"?t=.75:t=e.draw_origin,t}function c(e,t){let r=f(e,t),n=w(r,e,t);t.invert&&(n=-n),e.style.strokeDashoffset=n+""}function f(e,t){let r=window.innerHeight,n=e.getBoundingClientRect().top-t.offset,p=e.getBoundingClientRect().height,d=r*h(t),i=(-n+d)/p*t.speed;return i>1?i=1:i<0&&(i=0),i}function w(e,t,r){let n=1-e,p=t.getTotalLength();return r.undraw?-(e*p):n*p}function a(e){return e==null?(console.error("SVG Path not found ~ Check id or class name"),!1):e.tagName!=="path"?(console.error(`${e.outerHTML} is not a path`),!1):e.getTotalLength()<=0||typeof e.getTotalLength()!="number"?(console.error(`${e.outerHTML} has no length`),!1):!0}function s(e,t){let r=0;try{Object.keys(e).map(n=>{switch(n){case"invert":case"draw_origin":case"offset":case"speed":case"undraw":break;default:console.error(`Invalid option ~ '${n}'`),r++}}),typeof e.invert!="boolean"&&(console.error(`Invalid invert option. Must be a boolean. Is currently ~ ${e.invert}`),r++),e.draw_origin!=="top"&&e.draw_origin!=="center"&&e.draw_origin!=="bottom"&&(typeof e.draw_origin!="number"||Number.isNaN(e.draw_origin))&&(console.error(`Invalid draw_origin option. Must be 'center', 'top', or 'bottom' or a number. Is currently ~ ${e.draw_origin}`),r++),typeof e.draw_origin=="number"&&e.draw_origin<0?(console.error(`Invalid draw_origin option. Must be a number greater than or equal to 0. Is currently ~ ${e.draw_origin}`),r++):typeof e.draw_origin=="number"&&e.draw_origin>1&&(console.error(`Invalid draw_origin option. Must be a number less than or equal to 1. Is currently ~ ${e.draw_origin}`),r++),(typeof e.offset!="number"||Number.isNaN(e.offset))&&(console.error(`Invalid offset option. Must be a number. Is currently ~ ${typeof e.offset} ~ ${e.offset}`),r++),(typeof e.speed!="number"||e.speed<=0||Number.isNaN(e.speed))&&(console.error(`Invalid speed option. Must be a number greater than 0. Is currently ~ ${e.speed}`),r++),typeof e.undraw!="boolean"&&(console.error(`Invalid undraw option. Must be a boolean. Is currently ~ ${e.undraw}`),r++),r>0&&console.error(`Found ${r} errors in animation options ~ ${JSON.stringify(t)}`)}catch(n){console.error(`Error validating options ~ ${n}`),r++}return r}function m(e){let t=e.getTotalLength();e.style.strokeDasharray=t+" "+t,e.style.strokeDashoffset=t+""}var o={invert:!1,draw_origin:"center",offset:0,speed:1,undraw:!1};Object.freeze(o);var l=class{constructor(t,r){this.animationFrame=0;this.isActive=!0;this.isObservable=!0;this.svgPath=t,this.options=r,this.prevBoundingRectTop=t.getBoundingClientRect().top,m(t),c(t,r),g(this)}animate(){this.isActive||(this.isActive=!0,g(this))}stopAnimating(){this.isActive=!1,this.animationFrame=0}redraw(){c(this.svgPath,this.options)}changeOptions(t){let r={...this.options,...t};return s(r,t)>0?!1:(this.options=r,!0)}changeSvgPath(t){return a(t)?(this.svgPath=t,this.prevBoundingRectTop=t.getBoundingClientRect().top,m(t),!0):!1}getOptions(){return this.options}getSvgPath(){return this.svgPath}getPercentageDrawn(){return this.options.undraw?100*(1-f(this.svgPath,this.options)):100*f(this.svgPath,this.options)}clear(){this.svgPath.style.strokeDashoffset=`${this.svgPath.getTotalLength()}`}fill(){this.svgPath.style.strokeDashoffset="0"}remove(){this.stopAnimating()}},g=e=>{e.prevBoundingRectTop!==e.svgPath.getBoundingClientRect().top&&(c(e.svgPath,e.options),e.prevBoundingRectTop=e.svgPath.getBoundingClientRect().top),e.isActive&&e.isObservable?e.animationFrame=requestAnimationFrame(function(){g(e)}):cancelAnimationFrame(e.animationFrame)},u=class{constructor(){this.options=o;this.animationFrame=0;this.prevBoundingRectTop=0;this.isActive=!0;this.isObservable=!0;console.error("Scroll Svg Class Empty ~ Seems to be an error with your input."),this.svgPath=document.createElementNS("http://www.w3.org/2000/svg","path")}animate(){}stopAnimating(){}redraw(){}changeOptions(t){return!1}changeSvgPath(t){return!1}getOptions(){return o}getSvgPath(){return console.error("Invalid input to scrollSvg. Returning an empty SVGPathElement."),this.svgPath}getPercentageDrawn(){return 0}clear(){}fill(){}remove(){}};function v(e,t=o){if(!a(e))return new u;let r={...o,...t};return s(r,t)>0?new u:new l(e,r)}function A(e,t=o){if(!a(e))return null;let r={...o,...t};return s(r,t)>0?null:new l(e,r)}export{v as default,A as scrollSvgNullable};
